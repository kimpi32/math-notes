export const metadata = {
  title: 'Bondal-Kapranov Enhancement — Higher Category Theory — Math Notes',
}

import { Breadcrumbs } from '@/components/layout/Breadcrumbs'
import { Tag } from '@/components/ui/Tag'
import { StatusBadge } from '@/components/ui/StatusBadge'

<Breadcrumbs items={[
  { label: "고차 범주론", href: "/higher-category-theory" },
  { label: "6. DG 범주와 A∞ 범주", href: "/higher-category-theory/ch06-dg-and-a-infinity" },
  { label: "Theorem — Bondal–Kapranov Enhancement" },
]} />

<div className="mb-6">
  <div className="flex items-center gap-3 mb-3">
    <Tag type="theorem" />
    <StatusBadge status="complete" />
  </div>
</div>

# Bondal--Kapranov Enhancement

The Bondal--Kapranov theorem shows that every triangulated category generated by an exceptional collection can be enhanced to a pretriangulated DG category via twisted complexes. This foundational result demonstrates how the DG framework naturally resolves the non-functoriality problems of triangulated categories and provides explicit DG enhancements for important categories in algebraic geometry, including derived categories of projective spaces, Grassmannians, and other rational varieties.

---

## Statement

<Theorem title="Bondal--Kapranov pretriangulated hull" number="6.1">
Let $\mathcal{A}$ be a DG category over a field $k$. The DG category of **twisted complexes** $\operatorname{Tw}(\mathcal{A})$ is the smallest pretriangulated DG category containing $\mathcal{A}$ as a full DG subcategory. Specifically:

1. $\operatorname{Tw}(\mathcal{A})$ is pretriangulated (closed under shifts and cones).
2. The inclusion $\mathcal{A} \hookrightarrow \operatorname{Tw}(\mathcal{A})$ is a full DG embedding.
3. Every object of $\operatorname{Tw}(\mathcal{A})$ is an iterated cone of shifts of objects of $\mathcal{A}$.
4. (Universal property) For any pretriangulated DG category $\mathcal{B}$ and DG functor $F: \mathcal{A} \to \mathcal{B}$, there exists an essentially unique extension $\tilde{F}: \operatorname{Tw}(\mathcal{A}) \to \mathcal{B}$ preserving cones and shifts.
</Theorem>

<Theorem title="Enhancement via exceptional collections" number="6.2">
Let $X$ be a smooth projective variety over $k$ with a **full exceptional collection** $\langle E_1, E_2, \ldots, E_n \rangle$ in $D^b(\operatorname{Coh}(X))$. Let $\mathcal{E}$ be the full DG subcategory of the DG enhancement of $D^b(\operatorname{Coh}(X))$ on the objects $E_1, \ldots, E_n$. Then:

$$D^b(\operatorname{Coh}(X)) \simeq H^0(\operatorname{Tw}(\mathcal{E}))$$

as triangulated categories. In other words, the derived category is the homotopy category of twisted complexes built from the exceptional collection.

Moreover, the DG category $\mathcal{E}$ is determined (up to $A_\infty$-quasi-isomorphism) by the $\operatorname{Ext}$-algebra $\bigoplus_{i,j} \operatorname{Ext}^*(E_i, E_j)$ with its $A_\infty$-structure.
</Theorem>

<Theorem title="Karoubi completion" number="6.3">
The idempotent completion (or Karoubi envelope) of $\operatorname{Tw}(\mathcal{A})$ gives the **triangulated hull**:

$$H^0(\operatorname{Tw}(\mathcal{A})^{\natural}) \simeq \langle \mathcal{A} \rangle^{\mathrm{tr}}$$

the smallest idempotent-complete triangulated subcategory of $D(\mathcal{A})$ containing the image of $\mathcal{A}$. Here $\operatorname{Tw}(\mathcal{A})^{\natural}$ denotes the idempotent completion of $\operatorname{Tw}(\mathcal{A})$ as a DG category.
</Theorem>

---

## Construction of Twisted Complexes

<Proof title="Construction of the twisted complex category">
**Step 1 (Objects).** A twisted complex over $\mathcal{A}$ is a triple $(E, n, q)$ where:
- $E = (E_1, \ldots, E_r)$ is a finite sequence of objects in $\mathcal{A}$.
- $n = (n_1, \ldots, n_r)$ is a sequence of integers (shift parameters).
- $q = (q_{ij})_{i < j}$ is a strictly upper-triangular matrix with $q_{ij} \in \operatorname{Hom}^{n_i - n_j + 1}(E_i, E_j)$, satisfying the **Maurer--Cartan equation**:

$$dq + q \circ q = 0$$

Explicitly: $d(q_{ij}) + \sum_{i < l < j} q_{lj} \circ q_{il} = 0$ for all $i < j$.

**Step 2 (Morphisms).** For twisted complexes $(E, n, q)$ and $(E', n', q')$, the Hom complex is:

$$\operatorname{Hom}^p((E, n, q), (E', n', q')) = \bigoplus_{i, j} \operatorname{Hom}^{p + n'_j - n_i}(E_i, E'_j)$$

with twisted differential $D(f) = d(f) + q' \circ f - (-1)^{|f|} f \circ q$.

**Step 3 (Composition).** Composition of morphisms in $\operatorname{Tw}(\mathcal{A})$ is the matrix composition: $(g \circ f)_{ij} = \sum_l g_{lj} \circ f_{il}$. This is compatible with the twisted differential.

**Step 4 (Verification of pretriangularity).**
- Shifts: $(E, n, q)[m] = (E, n - m, q)$ (shift the grading parameters).
- Cones: For a closed degree-$0$ morphism $f: (E, n, q) \to (E', n', q')$, the cone is $(E \oplus E', (n, n' - 1), Q)$ where $Q$ is the block matrix incorporating $q$, $q'$, and $f$.
</Proof>

---

## Key Examples

<Example id="bk-projective-space" title="Projective space">
For $\mathbb{P}^n_k$, the Beilinson exceptional collection is $\langle \mathcal{O}, \mathcal{O}(1), \ldots, \mathcal{O}(n) \rangle$. The DG category $\mathcal{E}$ on these objects has:

$$\operatorname{Hom}(\mathcal{O}(i), \mathcal{O}(j)) = H^0(\mathcal{O}(j-i)) = S^{j-i}(k^{n+1})^*$$

for $j \geq i$ (and $0$ otherwise), concentrated in degree $0$. The $A_\infty$-structure is formal (all $m_n = 0$ for $n \geq 3$). The twisted complex category gives:

$$D^b(\operatorname{Coh}(\mathbb{P}^n)) \simeq H^0(\operatorname{Tw}(\mathcal{E}))$$

Every coherent sheaf on $\mathbb{P}^n$ is built from line bundles $\mathcal{O}(i)$ via iterated extensions (cones) and shifts.
</Example>

<Example id="bk-grassmannian" title="Grassmannians">
The Grassmannian $\operatorname{Gr}(k, n)$ has a full exceptional collection given by Kapranov, consisting of Schur functors applied to the tautological bundle. For $\operatorname{Gr}(2, 4)$:

$$\langle \mathcal{O}, \mathcal{U}^*, \mathcal{O}(1), \Lambda^2 \mathcal{U}^*(1), \mathcal{U}^*(1), \mathcal{O}(2) \rangle$$

where $\mathcal{U}$ is the tautological rank-$2$ bundle. The twisted complex enhancement gives an explicit DG model for $D^b(\operatorname{Coh}(\operatorname{Gr}(2,4)))$.
</Example>

<Example id="bk-quiver" title="Quiver representations">
For a finite quiver $Q$ without oriented cycles, the category $D^b(\operatorname{rep}_k(Q))$ has a full exceptional collection given by the simple representations $S_1, \ldots, S_n$ (one per vertex). The DG category $\mathcal{E}$ is the path algebra $kQ$ (viewed as a DG algebra concentrated in degree $0$):

$$D^b(\operatorname{rep}_k(Q)) \simeq H^0(\operatorname{Tw}(kQ))$$

The twisted complexes are precisely the bounded complexes of projective $kQ$-modules.
</Example>

<Example id="bk-del-pezzo" title="Del Pezzo surfaces">
A del Pezzo surface $S$ (blowup of $\mathbb{P}^2$ at $r \leq 8$ points) has a full exceptional collection. For $S = \operatorname{Bl}_p \mathbb{P}^2$:

$$\langle \mathcal{O}, \mathcal{O}(E), \mathcal{O}(H-E), \mathcal{O}(H) \rangle$$

where $H$ is the hyperplane class and $E$ the exceptional divisor. The Ext-algebra (with $A_\infty$-structure) and twisted complexes provide a complete DG model for $D^b(\operatorname{Coh}(S))$.
</Example>

<Example id="bk-tilting" title="Tilting objects and enhancements">
More generally, if $\mathcal{T}$ is a triangulated category with a **tilting object** $T$ (a compact generator with $\operatorname{Hom}(T, T[n]) = 0$ for $n \neq 0$), then $A = \operatorname{End}(T)$ is an ordinary algebra and:

$$\mathcal{T} \simeq D^{\mathrm{perf}}(A) \simeq H^0(\operatorname{Tw}(A))$$

The DG enhancement is the DG category of perfect DG $A$-modules. The Bondal--Kapranov construction provides the explicit model via twisted complexes.
</Example>

<Example id="bk-koszul" title="Koszul duality and twisted complexes">
For a Koszul algebra $A$ with Koszul dual $A^!$, the derived categories are related:

$$D^b(\operatorname{mod}\text{-}A) \simeq D^b(\operatorname{mod}\text{-}A^!)$$

At the DG level, this is realized by a DG quasi-equivalence $\operatorname{Tw}(\mathcal{E}_A) \simeq \operatorname{Tw}(\mathcal{E}_{A^!})$ where $\mathcal{E}_A$ and $\mathcal{E}_{A^!}$ are the DG categories of the respective simple modules. The Koszul duality functor is constructed explicitly via twisted complexes.
</Example>

---

## Exceptional Collections

<Example id="bk-exceptional" title="Exceptional objects and collections">
An object $E \in D^b(\operatorname{Coh}(X))$ is **exceptional** if $\operatorname{Hom}(E, E[n]) = 0$ for $n \neq 0$ and $\operatorname{Hom}(E, E) = k$. An **exceptional collection** $(E_1, \ldots, E_n)$ is a sequence where:
- Each $E_i$ is exceptional.
- $\operatorname{Hom}(E_j, E_i[m]) = 0$ for all $m$ when $j > i$ (semi-orthogonality).

The collection is **full** if $E_1, \ldots, E_n$ generate $D^b(\operatorname{Coh}(X))$ (no nonzero object is orthogonal to all $E_i$). Full exceptional collections exist for:
- Projective spaces $\mathbb{P}^n$.
- Grassmannians $\operatorname{Gr}(k, n)$.
- Flag varieties $G/P$ (in certain cases).
- Toric varieties (in many cases).
- Del Pezzo surfaces.
</Example>

<Example id="bk-ext-algebra" title="The Ext algebra determines the category">
Given a full exceptional collection $\langle E_1, \ldots, E_n \rangle$, the $A_\infty$-algebra:

$$\mathcal{E} = \bigoplus_{i,j} \operatorname{Ext}^*(E_i, E_j)$$

(with its minimal $A_\infty$-structure obtained by transfer from the DG endomorphism algebra) completely determines $D^b(\operatorname{Coh}(X))$:

$$D^b(\operatorname{Coh}(X)) \simeq H^0(\operatorname{Tw}(\mathcal{E})) \simeq D^{\mathrm{perf}}(\mathcal{E})$$

This is one of the most powerful applications of the Bondal--Kapranov theorem: it reduces the study of derived categories to finite-dimensional $A_\infty$-algebra computations.
</Example>

<Example id="bk-mutations" title="Mutations of exceptional collections">
Given an exceptional pair $(E_1, E_2)$, the **left mutation** $L_{E_1} E_2$ is defined by the exact triangle:

$$\operatorname{Hom}^*(E_1, E_2) \otimes E_1 \to E_2 \to L_{E_1} E_2$$

Then $(L_{E_1} E_2, E_1)$ is again an exceptional pair. Mutations act transitively on the set of full exceptional collections (conjecturally, for most varieties). At the DG level, mutations correspond to changes of basis in the twisted complex category.
</Example>

<Example id="bk-phantom" title="Phantom categories and limitations">
Not every smooth projective variety admits a full exceptional collection. For example:
- Curves of genus $g \geq 1$ have no exceptional objects at all.
- Abelian varieties, K3 surfaces, and Calabi--Yau manifolds of dimension $\geq 2$ have no full exceptional collections.

The Bondal--Kapranov enhancement via exceptional collections is specific to "rational-like" varieties. For general varieties, one needs other enhancement methods (injective/projective resolutions, the Drinfeld DG quotient, etc.).
</Example>

---

## Applications

<Example id="bk-reconstruction" title="Noncommutative geometry">
The Bondal--Kapranov theorem is foundational for Kontsevich's program of noncommutative algebraic geometry. A "noncommutative variety" is a DG category $\mathcal{A}$ (smooth and proper), and morphisms are DG bimodules. The twisted complex construction shows that such categories are finitely generated: determined by finitely many objects (generators) and their $A_\infty$-Ext algebra.

This perspective unifies commutative and noncommutative geometry: a smooth projective variety $X$ corresponds to the DG category $\operatorname{Perf}_{\mathrm{dg}}(X)$, and a noncommutative deformation of $X$ is a deformation of this DG category.
</Example>

<Example id="bk-mirror-symmetry" title="Homological mirror symmetry">
In Kontsevich's homological mirror symmetry conjecture, the Bondal--Kapranov enhancement plays a key role. For a Fano variety $X$ with mirror Landau--Ginzburg model $(Y, W)$:

$$D^b(\operatorname{Coh}(X)) \simeq D^b(\operatorname{Fuk}(Y, W))$$

Both sides have DG (or $A_\infty$) enhancements. The exceptional collection on $X$ (Bondal--Kapranov side) corresponds to a collection of Lagrangian vanishing cycles in $(Y, W)$ (Fukaya side). The twisted complex construction on both sides provides the concrete identification.
</Example>

---

## Summary

<Remark title="Key points">
The Bondal--Kapranov enhancement provides explicit DG models for triangulated categories:

1. **Twisted complexes** $\operatorname{Tw}(\mathcal{A})$ give the pretriangulated hull of any DG category $\mathcal{A}$.

2. For varieties with **full exceptional collections**, the derived category is $H^0(\operatorname{Tw}(\mathcal{E}))$ where $\mathcal{E}$ is the DG category of the exceptional objects.

3. The **Ext algebra** (with $A_\infty$-structure) of an exceptional collection completely determines the derived category.

4. Twisted complexes provide a universal construction: every pretriangulated DG category containing $\mathcal{A}$ factors through $\operatorname{Tw}(\mathcal{A})$.

5. Applications include **noncommutative geometry** (Kontsevich), **homological mirror symmetry**, and explicit computations of derived categories for rational varieties.
</Remark>
