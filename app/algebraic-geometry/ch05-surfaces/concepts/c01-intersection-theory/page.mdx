export const metadata = {
  title: 'Intersection Theory on Surfaces — Algebraic Geometry — Math Notes',
}

import { Breadcrumbs } from '@/components/layout/Breadcrumbs'
import { Tag } from '@/components/ui/Tag'
import { StatusBadge } from '@/components/ui/StatusBadge'

<Breadcrumbs items={[
  { label: "대수기하학", href: "/algebraic-geometry" },
  { label: "5. 곡면", href: "/algebraic-geometry/ch05-surfaces" },
  { label: "Concept — Intersection Theory" },
]} />

<div className="mb-6">
  <div className="flex items-center gap-3 mb-3">
    <Tag type="concept" />
    <StatusBadge status="complete" />
  </div>
</div>

# Intersection Theory on Surfaces

Intersection theory on surfaces assigns an integer $C \cdot D$ to any two divisors on a smooth projective surface, generalizing the naive count of intersection points. This bilinear pairing on $\operatorname{Pic}(X)$ is the fundamental tool for studying the geometry of surfaces.

---

## The intersection pairing

<Definition title="Intersection number" number="5.1">
Let $X$ be a smooth projective surface over an algebraically closed field $k$. For divisors $C, D$ on $X$, the **intersection number** is:

$$C \cdot D = \chi(\mathcal{O}_X) - \chi(\mathcal{O}_X(-C)) - \chi(\mathcal{O}_X(-D)) + \chi(\mathcal{O}_X(-C-D)).$$

This depends only on the linear equivalence classes of $C$ and $D$, so it defines a **symmetric bilinear pairing**:

$$\operatorname{Pic}(X) \times \operatorname{Pic}(X) \to \mathbb{Z}, \quad (C, D) \mapsto C \cdot D.$$

When $C$ and $D$ are effective and meet transversally, $C \cdot D = |C \cap D|$ (the naive count).
</Definition>

<Example id="transversal" title="Transversal intersections in ℙ²">
In $\mathbb{P}^2$, let $C = V(F)$ and $D = V(G)$ be curves of degrees $d$ and $e$. If they meet transversally:

$$C \cdot D = de.$$

This is **Bezout's theorem**. Concretely:
- A line and a conic ($d = 1, e = 2$): $1 \cdot 2 = 2$ intersection points.
- Two conics ($d = e = 2$): $2 \cdot 2 = 4$ intersection points.
- A line and a cubic ($d = 1, e = 3$): $1 \cdot 3 = 3$ intersection points.
- Two cubics ($d = e = 3$): $3 \cdot 3 = 9$ points — this gives the Cayley–Bacharach theorem.
</Example>

<Example id="non-transversal" title="Non-transversal intersections">
When curves meet with higher multiplicity, the intersection number accounts for it via **local intersection multiplicities**:

$$C \cdot D = \sum_{P \in C \cap D} (C \cdot D)_P, \quad (C \cdot D)_P = \dim_k \mathcal{O}_{X,P}/(f, g),$$

where $f, g$ are local equations for $C, D$ at $P$.

- Two lines meeting at a point: $(C \cdot D)_P = 1$.
- Line $y = 0$ tangent to parabola $y = x^2$ at origin: local equations $y$ and $y - x^2$. The ring $k[x,y]_{(x,y)}/(y, y - x^2) \cong k[x]/(x^2)$ has dimension $2$. So $(C \cdot D)_O = 2$.
- Cusp $y^2 = x^3$ and line $y = 0$ at origin: $k[x,y]_{(x,y)}/(y, y^2 - x^3) \cong k[x]/(x^3)$, dimension $3$.
</Example>

---

## Self-intersection

<Definition title="Self-intersection number" number="5.2">
The **self-intersection** $C^2 = C \cdot C$ measures the "twisting" of the normal bundle $N_{C/X}$:

$$C^2 = \deg(N_{C/X}) = \deg(\mathcal{O}_X(C)|_C).$$

Unlike intersection with a different curve, $C^2$ can be negative! A curve with $C^2 < 0$ is called a **negative curve**.
</Definition>

<Example id="self-intersection-P2" title="Self-intersection in ℙ²">
In $\mathbb{P}^2$, a curve $C$ of degree $d$ has $C^2 = d^2$:
- A line $L$: $L^2 = 1$. Geometrically: perturbing $L$ to another line $L'$, they meet in $1$ point.
- A conic: $C^2 = 4$.
- A cubic: $C^2 = 9$.

In $\mathbb{P}^2$, all self-intersections are positive. This is a special feature of $\mathbb{P}^2$.
</Example>

<Example id="self-intersection-negative" title="Negative self-intersection">
On the blowup $\tilde{X} = \operatorname{Bl}_P(\mathbb{P}^2)$, the **exceptional divisor** $E$ (the fiber over the blown-up point) satisfies:

$$E^2 = -1.$$

This is the prototype of a negative curve. More generally:
- On a ruled surface $\mathbb{F}_n = \mathbb{P}(\mathcal{O} \oplus \mathcal{O}(-n))$ over $\mathbb{P}^1$: the section $C_0$ with $C_0^2 = -n$.
- On a K3 surface: any smooth rational curve $C \cong \mathbb{P}^1$ has $C^2 = -2$ (by adjunction: $-2 = 2g(C) - 2 = C^2 + K \cdot C = C^2 + 0$).
</Example>

---

## Intersection theory on product surfaces

<Example id="product-surface" title="ℙ¹ × ℙ¹">
On $X = \mathbb{P}^1 \times \mathbb{P}^1$, the Picard group is $\operatorname{Pic}(X) \cong \mathbb{Z}^2$, generated by:
- $F_1 = \mathbb{P}^1 \times \{pt\}$ (a "horizontal" fiber),
- $F_2 = \{pt\} \times \mathbb{P}^1$ (a "vertical" fiber).

The intersection pairing is:
- $F_1 \cdot F_2 = 1$ (they meet in one point).
- $F_1^2 = 0$ (parallel horizontal fibers don't meet).
- $F_2^2 = 0$ (parallel vertical fibers don't meet).

A divisor of **bidegree** $(a, b)$ means $D \sim aF_1 + bF_2$. Then:
- $D^2 = 2ab$ (since $(aF_1 + bF_2)^2 = 2ab \cdot F_1 \cdot F_2 = 2ab$).
- $D \cdot D' = ab' + a'b$ for $D' \sim a'F_1 + b'F_2$.
- A curve of bidegree $(2, 2)$ is an elliptic curve ($g = 1$ by adjunction).
</Example>

<Example id="abelian-surface" title="Intersection on an abelian surface">
Let $A$ be an abelian surface (a $2$-dimensional abelian variety). If $L$ is an ample line bundle with $L^2 = 2d$, then $L$ defines a polarization of **type** $(1, d)$.

- **Principally polarized** ($d = 1$): $L^2 = 2$. The theta divisor $\Theta$ satisfies $\Theta^2 = 2$.
- **$(1,2)$-polarization**: $L^2 = 4$.
- By the Nakai–Moishezon criterion, $L$ is ample iff $L^2 > 0$ and $L \cdot C > 0$ for all curves $C$.
</Example>

---

## The Neron–Severi group and numerical equivalence

<Definition title="Neron–Severi group" number="5.3">
Two divisors $C, D$ are **numerically equivalent** ($C \equiv D$) if $C \cdot E = D \cdot E$ for all curves $E$ on $X$.

The **Neron–Severi group** is $\operatorname{NS}(X) = \operatorname{Pic}(X)/\equiv$. Its rank $\rho(X) = \operatorname{rk} \operatorname{NS}(X)$ is the **Picard number**.

The intersection pairing descends to a non-degenerate bilinear form on $\operatorname{NS}(X) \otimes \mathbb{R}$, of **signature** $(1, \rho - 1)$ by the Hodge Index Theorem.
</Definition>

<Example id="picard-numbers" title="Picard numbers of surfaces">
- **$\mathbb{P}^2$**: $\rho = 1$. $\operatorname{NS}(\mathbb{P}^2) = \mathbb{Z} \cdot H$, $H^2 = 1$.
- **$\mathbb{P}^1 \times \mathbb{P}^1$**: $\rho = 2$. Intersection matrix $\begin{pmatrix} 0 & 1 \\ 1 & 0 \end{pmatrix}$, signature $(1, 1)$.
- **Blowup $\operatorname{Bl}_P(\mathbb{P}^2)$**: $\rho = 2$. Basis $\{H, E\}$ with $H^2 = 1$, $E^2 = -1$, $H \cdot E = 0$. Matrix $\operatorname{diag}(1, -1)$, signature $(1,1)$.
- **K3 surface**: $\rho$ ranges from $1$ to $20$. A general K3 has $\rho = 1$; the maximum $\rho = 20$ is achieved by "singular K3 surfaces" (e.g., the Fermat quartic $x^4 + y^4 + z^4 + w^4 = 0$ over $\overline{\mathbb{F}_p}$ for some $p$).
- **Abelian surface**: $\rho$ ranges from $1$ to $4$. Over $\mathbb{C}$: $\rho = 1$ generically; $\rho = 4$ for products $E_1 \times E_2$ with CM.
</Example>

---

## Ampleness criteria

<Theorem title="Nakai–Moishezon criterion">
A divisor $D$ on a smooth projective surface $X$ is **ample** if and only if:
- $D^2 > 0$, and
- $D \cdot C > 0$ for every irreducible curve $C \subset X$.
</Theorem>

<Example id="ample-test" title="Testing ampleness">
On $\operatorname{Bl}_P(\mathbb{P}^2)$ with basis $H, E$ ($H^2 = 1, E^2 = -1, H \cdot E = 0$):

Is $D = 2H - E$ ample?
- $D^2 = 4 - 1 = 3 > 0$ ✓
- $D \cdot H = 2 > 0$ ✓
- $D \cdot E = 0 - (-1) = 1 > 0$ ✓
- For any curve $C \sim aH - bE$ with $a > 0$: $D \cdot C = 2a + b$. If $C$ is effective and irreducible, then $C \cdot H = a > 0$ and $C^2 = a^2 - b^2 \geq -1$ (for smooth rational curves). One checks $D \cdot C > 0$ for all such $C$.

So $D = 2H - E$ is ample. Geometrically, $|2H - E|$ maps $\operatorname{Bl}_P(\mathbb{P}^2)$ to $\mathbb{P}^2$ via conics through $P$, embedding the blowup as a cubic surface in $\mathbb{P}^3$... actually, $|2H - E|$ is a $g^2_?$; more precisely, $2H - E$ embeds $\operatorname{Bl}_P(\mathbb{P}^2)$ as a degree-$3$ surface in $\mathbb{P}^3$ (a cubic surface is the blowup of $\mathbb{P}^2$ at $6$ points, not $1$ — let me correct: $|3H - E|$ gives a cubic in $\mathbb{P}^3$).
</Example>

<Theorem title="Kleiman's criterion">
A divisor $D$ is ample if and only if $D$ is in the interior of the **nef cone**: $D \cdot C > 0$ for all nonzero effective $1$-cycles $C$. Equivalently, $D$ is nef ($D \cdot C \geq 0$ for all curves $C$) and $D^2 > 0$.

The **cone theorem** (Mori): the closure of the effective cone of curves is a rational polyhedral cone in the half-space $\{K_X \cdot C \geq 0\}$, plus countably many extremal rays $\mathbb{R}_{\geq 0}[C_i]$ with $K_X \cdot C_i < 0$.
</Theorem>

---

## The adjunction formula

<Theorem title="Adjunction formula for curves on surfaces">
If $C$ is a smooth curve on a smooth surface $X$:

$$2g(C) - 2 = C^2 + K_X \cdot C,$$

or equivalently $\omega_C \cong (\omega_X \otimes \mathcal{O}_X(C))|_C$. This relates the genus of $C$ to its self-intersection and the canonical class of $X$.
</Theorem>

<Example id="adjunction-examples" title="Adjunction in action">
- **Degree-$d$ curve in $\mathbb{P}^2$**: $K_{\mathbb{P}^2} = -3H$, $C \sim dH$, so $2g - 2 = d^2 - 3d$, giving $g = \frac{(d-1)(d-2)}{2}$. Recovers the genus-degree formula.

- **Curve of bidegree $(a,b)$ on $\mathbb{P}^1 \times \mathbb{P}^1$**: $K = -2F_1 - 2F_2$, so $2g - 2 = 2ab + (-2b - 2a) = 2ab - 2a - 2b$, giving $g = (a-1)(b-1)$.

- **Smooth rational curve on a K3**: $K_{K3} = 0$, so $2g - 2 = C^2$. For $g = 0$: $C^2 = -2$. Every $(-2)$-curve on a K3 is a smooth rational curve.

- **Exceptional curve on blowup**: $E \cong \mathbb{P}^1$, $g = 0$, $K_{\tilde{X}} \cdot E = -1$ (by $K_{\tilde{X}} = \pi^*K_X + E$). So $-2 = E^2 + (-1)$, giving $E^2 = -1$ ✓.

- **Canonical curve on a surface of general type**: If $C \in |K_X|$ is smooth, then $2g(C) - 2 = K_X^2 + K_X^2 = 2K_X^2$, so $g(C) = K_X^2 + 1$.
</Example>

---

## Riemann–Roch and intersection numbers

<Remark title="Riemann–Roch for surfaces (preview)">
The Riemann–Roch theorem for a divisor $D$ on a surface $X$ reads:

$$\chi(\mathcal{O}_X(D)) = \frac{1}{2}D \cdot (D - K_X) + \chi(\mathcal{O}_X).$$

Every term involves intersection numbers:
- $D \cdot (D - K_X) = D^2 - D \cdot K_X$.
- $\chi(\mathcal{O}_X) = 1 + p_g - q$ where $p_g = h^0(K_X)$ and $q = h^1(\mathcal{O}_X)$.

For $D = 0$: $\chi(\mathcal{O}_X) = \chi(\mathcal{O}_X)$ ✓.
For $D = K_X$: $\chi(K_X) = \frac{1}{2}K_X^2 - \frac{1}{2}K_X^2 + \chi(\mathcal{O}_X) = \chi(\mathcal{O}_X)$. This recovers the Serre duality statement $\chi(\omega_X) = \chi(\mathcal{O}_X)$.
</Remark>

---

## Summary

<Remark title="The intersection form encodes geometry">
The intersection pairing $\operatorname{NS}(X) \times \operatorname{NS}(X) \to \mathbb{Z}$ is the central invariant of a surface:
- Its **signature** $(1, \rho - 1)$ constrains the geometry (Hodge Index Theorem).
- **Ampleness** is detected by positivity against all curves (Nakai–Moishezon).
- **Adjunction** relates curve genus to intersection data.
- **Riemann–Roch** expresses Euler characteristics in terms of intersection numbers.
- The **cone of curves** and nef cone organize the birational geometry.
</Remark>
