export const metadata = {
  title: 'Sheaf Cohomology — Algebraic Geometry — Math Notes',
}

import { Breadcrumbs } from '@/components/layout/Breadcrumbs'
import { Tag } from '@/components/ui/Tag'
import { StatusBadge } from '@/components/ui/StatusBadge'

<Breadcrumbs items={[
  { label: "대수기하학", href: "/algebraic-geometry" },
  { label: "3. 코호몰로지", href: "/algebraic-geometry/ch03-cohomology" },
  { label: "Concept — Sheaf Cohomology" },
]} />

<div className="mb-6">
  <div className="flex items-center gap-3 mb-3">
    <Tag type="concept" />
    <StatusBadge status="complete" />
  </div>
</div>

# Sheaf Cohomology $H^i(X, \mathcal{F})$

Sheaf cohomology measures the obstruction to extending local data to global data. It is the central computational tool of algebraic geometry, connecting geometric properties of varieties to algebraic invariants.

---

## Motivation

<Remark title="Why cohomology?">
The global sections functor $\Gamma(X, -) : \mathbf{Sh}(X) \to \mathbf{Ab}$ is **left exact** but not right exact. Given a short exact sequence of sheaves

$$0 \to \mathcal{F}' \to \mathcal{F} \to \mathcal{F}'' \to 0$$

we get $0 \to \Gamma(\mathcal{F}') \to \Gamma(\mathcal{F}) \to \Gamma(\mathcal{F}'')$ but the last map need not be surjective. Cohomology measures the failure:

$$0 \to H^0(\mathcal{F}') \to H^0(\mathcal{F}) \to H^0(\mathcal{F}'') \to H^1(\mathcal{F}') \to H^1(\mathcal{F}) \to \cdots$$

So $H^1(\mathcal{F}')$ is the **obstruction** to lifting global sections of $\mathcal{F}''$ to $\mathcal{F}$.
</Remark>

<Example id="exponential-obstruction" title="Line bundles and H¹">
On a complex manifold $X$, the exponential sequence $0 \to \underline{2\pi i \mathbb{Z}} \to \mathcal{O} \xrightarrow{\exp} \mathcal{O}^* \to 0$ gives:

$$H^1(X, \mathcal{O}) \to H^1(X, \mathcal{O}^*) \xrightarrow{c_1} H^2(X, \mathbb{Z})$$

Here $H^1(X, \mathcal{O}^*) \cong \operatorname{Pic}(X)$ classifies line bundles. So $H^1$ classifies geometric objects (line bundles, extensions, deformations).
</Example>

---

## Definition via derived functors

<Definition title="Sheaf cohomology" number="3.4">
Let $X$ be a topological space (or scheme) and $\mathcal{F}$ a sheaf of abelian groups. The **sheaf cohomology groups** are the right derived functors of the global sections functor:

$$H^i(X, \mathcal{F}) = R^i \Gamma(X, \mathcal{F}).$$

Concretely: choose an **injective resolution** $0 \to \mathcal{F} \to \mathcal{I}^0 \to \mathcal{I}^1 \to \cdots$ (which exists since $\mathbf{Sh}(X)$ has enough injectives), apply $\Gamma$, and take cohomology:

$$H^i(X, \mathcal{F}) = \frac{\ker(\Gamma(\mathcal{I}^i) \to \Gamma(\mathcal{I}^{i+1}))}{\operatorname{im}(\Gamma(\mathcal{I}^{i-1}) \to \Gamma(\mathcal{I}^i))}.$$
</Definition>

<Remark title="Key properties">
Sheaf cohomology satisfies:

1. $H^0(X, \mathcal{F}) = \Gamma(X, \mathcal{F})$ (global sections).
2. **Long exact sequence**: A short exact sequence $0 \to \mathcal{F}' \to \mathcal{F} \to \mathcal{F}'' \to 0$ yields:

$$\cdots \to H^i(\mathcal{F}') \to H^i(\mathcal{F}) \to H^i(\mathcal{F}'') \xrightarrow{\delta} H^{i+1}(\mathcal{F}') \to \cdots$$

3. $H^i(X, \mathcal{I}) = 0$ for $i > 0$ if $\mathcal{I}$ is injective (or flasque, soft, fine, ...).
4. For a Noetherian scheme and coherent $\mathcal{F}$: $H^i(X, \mathcal{F})$ is a finitely generated module (finite-dimensional $k$-vector space if $X$ is projective over $k$).
5. **Dimension vanishing**: $H^i(X, \mathcal{F}) = 0$ for $i > \dim X$ (Grothendieck).
</Remark>

---

## Cohomology of projective space

<Example id="cohomology-O-Pn" title="H⁰(ℙⁿ, O(d))">
The most fundamental computation:

- $H^0(\mathbb{P}^n, \mathcal{O}(d)) = k[x_0, \ldots, x_n]_d$ (degree-$d$ homogeneous polynomials) for $d \geq 0$
- $H^0(\mathbb{P}^n, \mathcal{O}(d)) = 0$ for $d < 0$

with $\dim H^0(\mathbb{P}^n, \mathcal{O}(d)) = \binom{n+d}{d}$ for $d \geq 0$.

Special cases:
- $H^0(\mathbb{P}^n, \mathcal{O}) = k$: the only global regular functions are constants.
- $H^0(\mathbb{P}^1, \mathcal{O}(2)) = k \cdot x^2 + k \cdot xy + k \cdot y^2$: $3$-dimensional (conics on $\mathbb{P}^1$).
- $H^0(\mathbb{P}^2, \mathcal{O}(3))$: $10$-dimensional (cubics in $\mathbb{P}^2$, i.e., elliptic curves and their degenerations).
</Example>

<Example id="cohomology-higher" title="Higher cohomology of O(d) on ℙⁿ">
The full computation (Theorem III.5.1 in Hartshorne):

- $H^0(\mathbb{P}^n, \mathcal{O}(d)) = k[x_0,\ldots,x_n]_d$ for $i = 0$, $d \geq 0$
- $H^i(\mathbb{P}^n, \mathcal{O}(d)) = 0$ for $0 < i < n$, all $d$
- $H^n(\mathbb{P}^n, \mathcal{O}(d)) = k[x_0^{-1},\ldots,x_n^{-1}]_{-d-n-1}$ for $d \leq -(n+1)$
- $H^i(\mathbb{P}^n, \mathcal{O}(d)) = 0$ otherwise

Key features:
- **Gap**: $H^i = 0$ for $0 < i < n$ (all twists). Only $H^0$ and $H^n$ can be nonzero.
- **Serre duality**: $H^n(\mathbb{P}^n, \mathcal{O}(d)) \cong H^0(\mathbb{P}^n, \mathcal{O}(-d-n-1))^\vee$ — the $H^n$ is dual to $H^0$ of the "opposite" twist.
- $\chi(\mathbb{P}^n, \mathcal{O}(d)) = \binom{n+d}{n}$ (the Hilbert polynomial).
</Example>

<Example id="cohomology-P1" title="Cohomology on ℙ¹ (the simplest case)">
On $\mathbb{P}^1$:

| $d$ | $h^0(\mathcal{O}(d))$ | $h^1(\mathcal{O}(d))$ | $\chi(\mathcal{O}(d))$ |
|-----|------------------------|------------------------|------------------------|
| $\leq -2$ | $0$ | $-d-1$ | $d + 1$ |
| $-1$ | $0$ | $0$ | $0$ |
| $0$ | $1$ | $0$ | $1$ |
| $1$ | $2$ | $0$ | $2$ |
| $d \geq 0$ | $d+1$ | $0$ | $d+1$ |

Note: $h^0 - h^1 = d + 1 = \chi$ always (Riemann–Roch on $\mathbb{P}^1$), and Serre duality gives $h^1(\mathcal{O}(d)) = h^0(\mathcal{O}(-d-2))$.
</Example>

---

## Cohomology of curves

<Example id="genus" title="The genus of a curve">
For a smooth projective curve $C$ of genus $g$:
- $H^0(C, \mathcal{O}_C) = k$ (connected).
- $H^1(C, \mathcal{O}_C) = k^g$ ($g$-dimensional).
- $H^i(C, \mathcal{O}_C) = 0$ for $i \geq 2$ ($\dim C = 1$).

The genus $g = h^1(\mathcal{O}_C)$ is the most basic invariant of a curve. It determines the topology ($g$ = number of "holes"):
- $g = 0$: $\mathbb{P}^1$ (rational curve, sphere).
- $g = 1$: elliptic curve (torus).
- $g \geq 2$: hyperbolic curves (Faltings: finitely many rational points over $\mathbb{Q}$).
</Example>

<Example id="line-bundle-cohomology" title="Cohomology of line bundles on curves">
For a line bundle $\mathcal{L}$ of degree $d$ on a genus-$g$ curve $C$:

- $d < 0$: $H^0(C, \mathcal{L}) = 0$ (no nonzero sections of negative degree).
- $d > 2g - 2$: $H^1(C, \mathcal{L}) = 0$ (by Serre duality + degree argument).
- $d = 2g - 2$: $\mathcal{L}$ could be the canonical bundle $\omega_C$; $h^0(\omega_C) = g$.
- Riemann–Roch: $h^0(\mathcal{L}) - h^1(\mathcal{L}) = d - g + 1$ always.

The "interesting range" is $0 \leq d \leq 2g - 2$, where both $H^0$ and $H^1$ can be nonzero.
</Example>

<Example id="elliptic-cohomology" title="Cohomology of an elliptic curve">
Let $E$ be an elliptic curve ($g = 1$) over $k$. Then:

- $h^0(\mathcal{O}_E) = 1$, $h^1(\mathcal{O}_E) = 1$, so $\chi(\mathcal{O}_E) = 0$.
- $\omega_E \cong \mathcal{O}_E$ (trivial canonical bundle — this characterizes elliptic curves among genus-1 curves).
- For a degree-$d$ line bundle $\mathcal{L}$: $h^0(\mathcal{L}) = d$ for $d > 0$, $h^0(\mathcal{L}) = 0$ for $d < 0$, and $h^0(\mathcal{L}) = 0$ or $1$ for $d = 0$.

The **Riemann–Roch space** $H^0(E, \mathcal{O}(nP))$ has dimension $n$ for $n \geq 1$. Taking $n = 2$: a basis $\{1, x\}$; $n = 3$: a basis $\{1, x, y\}$. The relation in degree 6 gives the **Weierstrass equation** $y^2 = x^3 + ax + b$.
</Example>

---

## Euler characteristic and Hilbert polynomial

<Definition title="Euler characteristic" number="3.5">
For a coherent sheaf $\mathcal{F}$ on a projective scheme $X$ over $k$:

$$\chi(X, \mathcal{F}) = \sum_{i=0}^{\dim X} (-1)^i h^i(X, \mathcal{F})$$

where $h^i = \dim_k H^i(X, \mathcal{F})$. The Euler characteristic is **additive** on short exact sequences.
</Definition>

<Definition title="Hilbert polynomial" number="3.6">
For a coherent sheaf $\mathcal{F}$ on $\mathbb{P}^n$ (or a projective scheme with a fixed ample line bundle), the **Hilbert polynomial** is

$$P_\mathcal{F}(d) = \chi(\mathcal{F}(d))$$

as a function of $d$. For $d \gg 0$, $P_\mathcal{F}(d) = h^0(\mathcal{F}(d))$ (higher cohomology vanishes by Serre). This is a polynomial in $d$ of degree $\dim \operatorname{Supp}(\mathcal{F})$.
</Definition>

<Example id="hilbert-polynomial-examples" title="Hilbert polynomials">
| Sheaf | $P(d)$ | Degree | Genus |
|-------|--------|--------|-------|
| $\mathcal{O}_{\mathbb{P}^n}$ | $\binom{n+d}{n}$ | $n$ | — |
| $\mathcal{O}_{\mathbb{P}^1}$ | $d + 1$ | $1$ | $0$ |
| $\mathcal{O}_C$ ($C \subseteq \mathbb{P}^2$, deg $e$) | $ed - \frac{e(e-3)}{2}$ | $1$ | $\frac{(e-1)(e-2)}{2}$ |
| $\mathcal{O}_p$ (point) | $1$ | $0$ | — |
| $\mathcal{O}_S$ ($S \subseteq \mathbb{P}^3$, deg $e$) | $\frac{e}{2}d^2 + \cdots$ | $2$ | — |

The Hilbert polynomial determines the **Hilbert scheme**: varieties with a given Hilbert polynomial form a projective scheme $\operatorname{Hilb}_P(\mathbb{P}^n)$.
</Example>

---

## Vanishing theorems

<Theorem title="Grothendieck vanishing">
If $X$ is a Noetherian topological space of dimension $n$, then $H^i(X, \mathcal{F}) = 0$ for all $i > n$ and all sheaves $\mathcal{F}$.
</Theorem>

<Theorem title="Serre vanishing (Theorem B)">
Let $X$ be a projective scheme over a Noetherian ring, $\mathcal{O}(1)$ a very ample line bundle, and $\mathcal{F}$ a coherent sheaf. Then there exists $d_0$ such that

$$H^i(X, \mathcal{F}(d)) = 0 \quad \text{for all } i > 0 \text{ and } d \geq d_0.$$

Equivalently, for sufficiently large twist, all higher cohomology vanishes.
</Theorem>

<Example id="vanishing-application" title="Application of Serre vanishing">
On $\mathbb{P}^2$, for any coherent sheaf $\mathcal{F}$: $H^i(\mathcal{F}(d)) = 0$ for $i > 0$ and $d \gg 0$.

Concretely for $\mathcal{O}_C$ where $C$ is a degree-3 curve: $H^1(\mathcal{O}_C(d)) = 0$ for $d \geq 1$ (by Serre duality: $H^1(\mathcal{O}_C(d)) \cong H^0(\omega_C(-d))^\vee = H^0(\mathcal{O}_C(-d))^\vee = 0$ for $d > 0$).
</Example>

<Theorem title="Kodaira vanishing">
Let $X$ be a smooth projective variety over a field of characteristic $0$, and $\mathcal{L}$ an ample line bundle. Then:

$$H^i(X, \omega_X \otimes \mathcal{L}) = 0 \quad \text{for } i > 0.$$

Equivalently, $H^i(X, \mathcal{L}^{-1}) = 0$ for $i < \dim X$ (by Serre duality).
</Theorem>

<Example id="kodaira-application" title="Application of Kodaira vanishing">
On $\mathbb{P}^n$ with $\mathcal{L} = \mathcal{O}(d)$, $d > 0$: $\omega_{\mathbb{P}^n} \otimes \mathcal{O}(d) = \mathcal{O}(d - n - 1)$. Kodaira gives $H^i(\mathcal{O}(d-n-1)) = 0$ for $i > 0$, i.e., $H^i(\mathcal{O}(m)) = 0$ for $i > 0$ and $m > -(n+1)$. This reproduces part of the computation of $H^*(\mathbb{P}^n, \mathcal{O}(d))$.

**Warning**: Kodaira vanishing **fails** in characteristic $p > 0$ (Raynaud's counterexample).
</Example>

---

## Higher direct images

<Definition title="Higher direct images" number="3.7">
For a morphism $f: X \to Y$ and a sheaf $\mathcal{F}$ on $X$, the **higher direct images** are

$$R^i f_* \mathcal{F}$$

the sheafification of $U \mapsto H^i(f^{-1}(U), \mathcal{F})$. These are quasi-coherent if $f$ is quasi-compact, quasi-separated and $\mathcal{F}$ is quasi-coherent; coherent if $f$ is proper and $\mathcal{F}$ is coherent.
</Definition>

<Example id="fiber-cohomology" title="Cohomology and base change">
For a flat projective morphism $f: X \to T$ and a coherent sheaf $\mathcal{F}$ flat over $T$, the function $t \mapsto h^i(X_t, \mathcal{F}_t)$ is **upper semicontinuous**. It is locally constant if and only if $R^i f_* \mathcal{F}$ is locally free.

**Example**: a family of elliptic curves $f: \mathcal{E} \to T$. Then $R^1 f_* \mathcal{O}_\mathcal{E}$ is a line bundle on $T$ (the **Hodge bundle**), since $h^1(\mathcal{O}_{E_t}) = 1$ for all $t$.
</Example>

---

## Summary

<Remark title="Cohomology roadmap">
<div className="overflow-x-auto my-4">
<table className="min-w-full text-sm border border-gray-200">
<thead>
<tr className="bg-gray-50">
<th className="border border-gray-200 px-3 py-2 text-left">Invariant</th>
<th className="border border-gray-200 px-3 py-2 text-left">Definition</th>
<th className="border border-gray-200 px-3 py-2 text-left">Geometric meaning</th>
</tr>
</thead>
<tbody>
<tr><td className="border border-gray-200 px-3 py-2">$h^0(\mathcal{F})$</td><td className="border border-gray-200 px-3 py-2">$\dim \Gamma(X, \mathcal{F})$</td><td className="border border-gray-200 px-3 py-2">Global sections (functions, forms, ...)</td></tr>
<tr><td className="border border-gray-200 px-3 py-2">$h^1(\mathcal{O}_X)$</td><td className="border border-gray-200 px-3 py-2">$\dim H^1$</td><td className="border border-gray-200 px-3 py-2">Genus (curves), irregularity (surfaces)</td></tr>
<tr><td className="border border-gray-200 px-3 py-2">$h^0(\omega_X)$</td><td className="border border-gray-200 px-3 py-2">$p_g$, geometric genus</td><td className="border border-gray-200 px-3 py-2">Top holomorphic forms</td></tr>
<tr><td className="border border-gray-200 px-3 py-2">$\chi(\mathcal{O}_X)$</td><td className="border border-gray-200 px-3 py-2">$\sum (-1)^i h^i$</td><td className="border border-gray-200 px-3 py-2">Arithmetic genus</td></tr>
<tr><td className="border border-gray-200 px-3 py-2">$P(d) = \chi(\mathcal{O}(d))$</td><td className="border border-gray-200 px-3 py-2">Hilbert polynomial</td><td className="border border-gray-200 px-3 py-2">Degree, dimension, genus in one package</td></tr>
<tr><td className="border border-gray-200 px-3 py-2">$H^1(X, \mathcal{O}^*)$</td><td className="border border-gray-200 px-3 py-2">$\operatorname{Pic}(X)$</td><td className="border border-gray-200 px-3 py-2">Line bundles / divisor classes</td></tr>
</tbody>
</table>
</div>
</Remark>
