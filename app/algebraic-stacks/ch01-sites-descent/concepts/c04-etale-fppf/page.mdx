export const metadata = {
  title: 'Etale and fppf Topologies — Algebraic Stacks — Math Notes',
}

import { Breadcrumbs } from '@/components/layout/Breadcrumbs'
import { Tag } from '@/components/ui/Tag'
import { StatusBadge } from '@/components/ui/StatusBadge'

<Breadcrumbs items={[
  { label: "대수 스택", href: "/algebraic-stacks" },
  { label: "1. 위치와 하강", href: "/algebraic-stacks/ch01-sites-descent" },
  { label: "Concept — Etale and fppf Topologies" },
]} />

<div className="mb-6">
  <div className="flex items-center gap-3 mb-3">
    <Tag type="concept" />
    <StatusBadge status="complete" />
  </div>
</div>

# Etale and fppf Topologies

The etale and fppf topologies are the two most important Grothendieck topologies in algebraic geometry beyond the Zariski topology. The etale topology is the algebraic analogue of the classical topology on complex manifolds, while the fppf topology is needed for studying inseparable phenomena, non-smooth group schemes, and descent in its most general form. Understanding these topologies is essential for the theory of algebraic stacks.

---

## Etale Morphisms

<Definition title="Etale morphism" number="1.17">
A morphism $f: X \to Y$ of schemes is **etale** if it satisfies any of the following equivalent conditions:

1. $f$ is flat and unramified.
2. $f$ is flat, locally of finite presentation, and for every $y \in Y$, the fiber $X_y = X \times_Y \operatorname{Spec}(k(y))$ is a disjoint union of spectra of finite separable field extensions of $k(y)$.
3. $f$ is smooth of relative dimension $0$.
4. $f$ is locally of finite presentation, and for every affine open $\operatorname{Spec}(B) \subseteq Y$ and affine open $\operatorname{Spec}(A) \subseteq f^{-1}(\operatorname{Spec}(B))$, the ring $A$ is a **standard etale** $B$-algebra: $A = B[t]_g / (p(t))$ where $p(t)$ is a monic polynomial and $p'(t)$ is invertible in $A$.
5. (For schemes locally of finite type over a field $k$) $f$ is locally of finite type and formally etale: for every affine $Y$-scheme $\operatorname{Spec}(R)$ and every nilpotent ideal $I \subseteq R$, the map $\operatorname{Hom}_Y(\operatorname{Spec}(R), X) \to \operatorname{Hom}_Y(\operatorname{Spec}(R/I), X)$ is a bijection.
</Definition>

<Example id="etale-field-extension" title="Finite separable field extensions">
A morphism $\operatorname{Spec}(L) \to \operatorname{Spec}(k)$ is etale if and only if $L/k$ is a finite separable field extension (or a finite product of such). The map $\operatorname{Spec}(\mathbb{Q}(\sqrt{2})) \to \operatorname{Spec}(\mathbb{Q})$ is etale. The map $\operatorname{Spec}(\mathbb{F}_p(t^{1/p})) \to \operatorname{Spec}(\mathbb{F}_p(t))$ is **not** etale (it is purely inseparable).

More generally, $\operatorname{Spec}(B) \to \operatorname{Spec}(A)$ is finite etale if and only if $B$ is a finite projective $A$-module and the trace form $B \otimes_A B \to A$ is non-degenerate.
</Example>

<Example id="etale-standard" title="Standard etale morphisms">
The morphism $\operatorname{Spec}(\mathbb{Z}[t]/(t^2 - 5)) \to \operatorname{Spec}(\mathbb{Z})$ is etale away from the prime $2$ (since the derivative $2t$ is invertible away from $2$) but is not etale at $2$ (the polynomial $t^2 - 5 \equiv t^2 - 1 = (t-1)(t+1) \pmod{2}$ has a repeated root modulo $2$... actually, $(t-1)$ and $(t+1)$ are the same modulo $2$, so $t^2 - 5 \equiv (t-1)^2 \pmod{2}$).

So $\operatorname{Spec}(\mathbb{Z}[t]/(t^2 - 5)[1/2]) \to \operatorname{Spec}(\mathbb{Z}[1/2])$ is finite etale of degree 2. The fiber over a prime $p \neq 2$ splits into two points if $5$ is a square modulo $p$ (i.e., the Legendre symbol $(5/p) = 1$).
</Example>

<Example id="etale-open-immersion" title="Open immersions are etale">
Every open immersion $U \hookrightarrow X$ is etale (it is flat, unramified, and locally of finite presentation). In fact, open immersions are precisely the etale morphisms that are also monomorphisms.

Conversely, an etale morphism of finite type between integral schemes with the same function field is an open immersion (by Zariski's main theorem).
</Example>

<Example id="etale-curve-cover" title="Etale covers of curves">
Let $C$ be a smooth projective curve over an algebraically closed field $k$, and let $f: D \to C$ be a finite morphism of smooth curves. Then $f$ is etale if and only if $f$ is unramified, i.e., the ramification divisor $R = \sum_{P \in D} (e_P - 1) \cdot P$ is zero (every point has ramification index $1$).

By the Hurwitz formula $2g(D) - 2 = \deg(f)(2g(C) - 2) + \deg(R)$, an etale cover of degree $d$ satisfies $g(D) - 1 = d(g(C) - 1)$. For $C = \mathbb{P}^1$ (genus $0$), no nontrivial etale covers exist when $\operatorname{char}(k) = 0$ (since $g(D) - 1 = d(0-1) = -d < 0$). Over $\operatorname{Spec}(\mathbb{Z})$, Minkowski's theorem says there are no nontrivial unramified extensions, reflecting the same phenomenon.
</Example>

<Example id="etale-henselian" title="Etale morphisms and henselian rings">
A local ring $(R, \mathfrak{m})$ is **henselian** if Hensel's lemma holds: for every monic polynomial $f \in R[t]$, if $\bar{f} = \bar{g}\bar{h}$ in $(R/\mathfrak{m})[t]$ with $\gcd(\bar{g}, \bar{h}) = 1$, then $f = gh$ with $g, h$ lifting $\bar{g}, \bar{h}$.

Equivalently, $(R, \mathfrak{m})$ is henselian if and only if every finite $R$-algebra is a product of local rings, if and only if every etale neighborhood of the closed point $\operatorname{Spec}(R/\mathfrak{m}) \hookrightarrow \operatorname{Spec}(R)$ has a section.

The **strict henselization** $R^{\text{sh}}$ is the colimit of all local-etale $R$-algebras, and the stalk of an etale sheaf $\mathcal{F}$ at a geometric point over $\mathfrak{m}$ is $\mathcal{F}_{\bar{x}} = \varinjlim \mathcal{F}(\operatorname{Spec}(R'))$ where $R'$ runs over etale neighborhoods, converging to $\mathcal{F}(\operatorname{Spec}(R^{\text{sh}}))$.
</Example>

---

## The Etale Site and Etale Topology

<Definition title="Etale topology" number="1.18">
The **etale topology** on the category $\mathbf{Sch}/S$ (or on the small etale site $X_{\text{et}}$) is the Grothendieck topology where covering families are surjective families of etale morphisms:

$$\{f_i: U_i \to U\}_{i \in I} \text{ is an etale cover} \iff \text{each } f_i \text{ is etale and } \bigcup_i f_i(U_i) = U.$$
</Definition>

<Example id="etale-site-elliptic" title="Etale covers of an elliptic curve">
Let $E$ be an elliptic curve over a field $k$. For each integer $n$ with $\gcd(n, \operatorname{char}(k)) = 1$, the multiplication-by-$n$ map $[n]: E \to E$ is a finite etale morphism of degree $n^2$. Its kernel is $E[n] \cong (\mathbb{Z}/n\mathbb{Z})^2$ (over $\bar{k}$).

So $\{[n]: E \to E\}$ is an etale cover. The induced map on etale fundamental groups gives the full Tate module: $\pi_1^{\text{et}}(E) \cong \hat{\mathbb{Z}}^2 \times (\text{Galois part})$.

The etale covers of $E$ are classified by the etale fundamental group, which encodes both the geometric covers and the Galois action.
</Example>

<Example id="etale-site-an" title="Etale covers of affine n-space">
For $\mathbb{A}^n_k$ over an algebraically closed field $k$ of characteristic $0$, the etale fundamental group is trivial: $\pi_1^{\text{et}}(\mathbb{A}^n_k) = 1$. Every finite etale cover is trivial.

In characteristic $p > 0$, this fails dramatically: the Artin-Schreier cover $\operatorname{Spec}(k[x,y]/(y^p - y - x)) \to \mathbb{A}^1_k$ is a connected etale $\mathbb{Z}/p\mathbb{Z}$-cover. The etale fundamental group of $\mathbb{A}^1_{\overline{\mathbb{F}_p}}$ is huge (it surjects onto every finite group generated by at most one element at each prime-to-$p$ part, by Abhyankar's conjecture, proved by Raynaud and Harbater).
</Example>

---

## Flat Morphisms and the fppf Topology

<Definition title="Flat morphism" number="1.19">
A morphism $f: X \to Y$ of schemes is **flat** if for every $x \in X$ with $y = f(x)$, the local ring map $\mathcal{O}_{Y,y} \to \mathcal{O}_{X,x}$ is flat (i.e., $\mathcal{O}_{X,x}$ is a flat $\mathcal{O}_{Y,y}$-module).

$f$ is **faithfully flat** if it is flat and surjective. Equivalently, the pullback functor $f^*$ on quasi-coherent sheaves is exact and faithful.
</Definition>

<Definition title="fppf topology" number="1.20">
The **fppf topology** (fidelement plat de presentation finie) on $\mathbf{Sch}/S$ declares $\{U_i \to U\}$ a covering family if each $U_i \to U$ is flat and locally of finite presentation, and $\coprod_i U_i \to U$ is surjective.

The acronym "fppf" stands for "faithfully flat and of finite presentation" (referring to the joint morphism $\coprod U_i \to U$).
</Definition>

<Example id="flat-free-module" title="Flat morphisms from free modules">
The morphism $\operatorname{Spec}(A[t]) \to \operatorname{Spec}(A)$ is flat (and faithfully flat) for any ring $A$, since $A[t]$ is a free $A$-module. The morphism $\operatorname{Spec}(A[t]/(t^n)) \to \operatorname{Spec}(A)$ is flat (and faithfully flat) since $A[t]/(t^n)$ is free of rank $n$ as an $A$-module.

More generally, any morphism corresponding to a flat ring map $A \to B$ gives a flat morphism of schemes. Flatness is the scheme-theoretic analogue of "having fibers of constant dimension" (though this is a rough heuristic).
</Example>

<Example id="fppf-frobenius" title="Frobenius as an fppf cover">
Over $\mathbb{F}_p$, the Frobenius morphism $F: \mathbb{A}^1 \to \mathbb{A}^1$ given by $x \mapsto x^p$ corresponds to the ring map $\mathbb{F}_p[t] \to \mathbb{F}_p[t]$ sending $t \mapsto t^p$. This makes $\mathbb{F}_p[t]$ a free $\mathbb{F}_p[t]$-module of rank $p$ (via the basis $1, t, t^2, \ldots, t^{p-1}$).

So the Frobenius is finite flat of degree $p$, hence an fppf cover $\{F: \mathbb{A}^1 \to \mathbb{A}^1\}$. However, it is **not** etale: it is totally inseparable (the fiber over any closed point is a single point with multiplicity $p$).

This is a key example showing what fppf detects that etale does not: inseparable maps and group schemes like $\alpha_p = \ker(F: \mathbb{G}_a \to \mathbb{G}_a)$.
</Example>

<Example id="fppf-mu-p" title="mu_p in characteristic p">
Over a field $k$ of characteristic $p$, the group scheme $\mu_p = \operatorname{Spec}(k[t]/(t^p - 1)) = \operatorname{Spec}(k[t]/((t-1)^p))$ is not reduced (and not etale over $k$). The morphism $[p]: \mathbb{G}_m \to \mathbb{G}_m$ given by $t \mapsto t^p$ has kernel $\mu_p$.

The sequence $1 \to \mu_p \to \mathbb{G}_m \xrightarrow{[p]} \mathbb{G}_m \to 1$ is exact in the fppf topology but **not** in the etale topology. Over a field $k$, $H^1_{\text{fppf}}(k, \mu_p)$ classifies $\mu_p$-torsors, which correspond to degree-$p$ purely inseparable extensions and Brauer-Severi varieties in certain cases. The etale cohomology $H^1_{\text{et}}(k, \mu_p)$ gives $k^\times/(k^\times)^p$ only when $\mu_p$ is etale (i.e., when $p$ is invertible in $k$, which contradicts $\operatorname{char}(k) = p$).
</Example>

---

## Comparison of Etale and fppf

<Remark title="When etale and fppf agree">
For a **smooth** group scheme $G$ over $X$, the etale and fppf cohomology agree:

$$H^i_{\text{et}}(X, G) \cong H^i_{\text{fppf}}(X, G)$$

This is a consequence of the fact that smooth morphisms locally (in the etale topology) have sections. So if $G$ is smooth, then $G$-torsors that are locally trivial in the fppf topology are already locally trivial in the etale topology.

For non-smooth group schemes ($\alpha_p$, $\mu_p$ in characteristic $p$, etc.), the etale and fppf cohomology genuinely differ, and the fppf topology is essential.
</Remark>

<Example id="comparison-brauer" title="Brauer group and the choice of topology">
The Brauer group $\operatorname{Br}(X)$ can be defined as $H^2_{\text{et}}(X, \mathbb{G}_m)$ (etale cohomology) or as the group of Azumaya algebras modulo Brauer equivalence.

The etale and fppf $H^2$ agree for $\mathbb{G}_m$: $H^2_{\text{et}}(X, \mathbb{G}_m) = H^2_{\text{fppf}}(X, \mathbb{G}_m)$. This is because $\mathbb{G}_m$ is smooth, so the comparison theorem applies.

For a field $k$, $\operatorname{Br}(k)$ classifies central simple algebras over $k$ up to Morita equivalence. For example, $\operatorname{Br}(\mathbb{R}) = \mathbb{Z}/2\mathbb{Z}$ (generated by the quaternions $\mathbb{H}$), $\operatorname{Br}(\mathbb{F}_q) = 0$ (Wedderburn), and $\operatorname{Br}(\mathbb{Q}_p) = \mathbb{Q}/\mathbb{Z}$ (local class field theory).
</Example>

<Example id="comparison-pic" title="Picard group computation">
For any scheme $X$, the Picard group $\operatorname{Pic}(X) = H^1_{\text{et}}(X, \mathbb{G}_m) = H^1_{\text{Zar}}(X, \mathbb{G}_m) = H^1_{\text{fppf}}(X, \mathbb{G}_m)$. All three topologies give the same answer.

This equality for $H^1$ is essentially **Hilbert's Theorem 90**: for the etale case, it says $H^1_{\text{et}}(\operatorname{Spec}(L/k), \mathbb{G}_m) = 0$ for any Galois extension $L/k$. For the fppf case, it generalizes to say that every $\mathbb{G}_m$-torsor in the fppf topology is already locally trivial in the Zariski topology.

However, for higher cohomology, the topologies may differ. For example, $H^3_{\text{et}}$ and $H^3_{\text{fppf}}$ can differ for non-smooth coefficient sheaves.
</Example>

---

## Etale and fppf Covers in Practice

<Example id="practice-etale-cover" title="Computing with etale covers">
Consider the etale cover $\{f: \operatorname{Spec}(k[t, t^{-1}]) \to \operatorname{Spec}(k[t^2, t^{-2}])\}$ given by the inclusion $k[t^2, t^{-2}] \hookrightarrow k[t, t^{-1}]$ (adjoin a square root of $t^2$). This is a degree-2 etale cover of $\mathbb{G}_m$ by $\mathbb{G}_m$.

The fiber product is $\operatorname{Spec}(k[t, t^{-1}]) \times_{\operatorname{Spec}(k[t^2, t^{-2}])} \operatorname{Spec}(k[t, t^{-1}]) = \operatorname{Spec}(k[t, t^{-1}] \otimes_{k[t^2, t^{-2}]} k[t, t^{-1}])$. The tensor product $k[t, t^{-1}] \otimes_{k[s, s^{-1}]} k[t, t^{-1}]$ (where $s = t^2$) is $k[t, t^{-1}, u, u^{-1}]/(t^2 - u^2) = k[t, t^{-1}, u, u^{-1}]/((t-u)(t+u))$, which splits as $k[t, t^{-1}] \times k[t, t^{-1}]$ (identifying $u = t$ or $u = -t$).

This is characteristic of a Galois cover: the fiber product over itself splits as copies indexed by the Galois group $\mathbb{Z}/2\mathbb{Z}$.
</Example>

<Example id="practice-fppf-torsor" title="fppf torsors from group schemes">
Let $G = \mu_2 = \operatorname{Spec}(k[t]/(t^2-1))$ over a field $k$ with $\operatorname{char}(k) \neq 2$. A $\mu_2$-torsor over $\operatorname{Spec}(k)$ is a scheme $P$ with a $\mu_2$-action that is locally trivial. These are classified by $H^1_{\text{fppf}}(k, \mu_2) = H^1_{\text{et}}(k, \mu_2) = k^\times / (k^\times)^2$.

Concretely, each class $a \in k^\times / (k^\times)^2$ gives the torsor $P_a = \operatorname{Spec}(k[x]/(x^2 - a))$ with $\mu_2$-action $t \cdot x = tx$ (where $t^2 = 1$). The torsor $P_a$ is trivial (isomorphic to $\mu_2$ itself) if and only if $a$ is a square in $k$.

For $k = \mathbb{Q}$, $H^1(\mathbb{Q}, \mu_2) = \mathbb{Q}^\times / (\mathbb{Q}^\times)^2$, which is infinite (generated by $-1$ and the primes $p$).
</Example>

---

## Properties of Etale and Flat Morphisms

<Remark title="Stability properties">
Both etale and flat morphisms have excellent stability properties:

**Etale morphisms:**
- Stable under base change: if $f: X \to Y$ is etale and $g: Z \to Y$, then $X \times_Y Z \to Z$ is etale.
- Stable under composition: $f \circ g$ etale if both $f$ and $g$ are etale.
- Local on the target: $f$ is etale iff it is etale over an open cover of $Y$.
- Local on the source: if $\{U_i \to X\}$ is an etale cover and each $f|_{U_i}$ is etale, then $f$ is etale.
- Etale morphisms are open maps (like local homeomorphisms in topology).

**Flat morphisms:**
- Stable under base change and composition.
- Flat morphisms are open (Chevalley's theorem).
- If $f: X \to Y$ is flat and locally of finite presentation, and $Y$ is locally Noetherian, then $f$ is an open map.
- "Going down" holds for flat morphisms: if $\mathfrak{p} \subseteq \mathfrak{q}$ in $Y$ and $\mathfrak{q}' \in X$ lies over $\mathfrak{q}$, then there exists $\mathfrak{p}' \subseteq \mathfrak{q}'$ lying over $\mathfrak{p}$.
</Remark>

---

## Summary

<Remark title="Key comparisons">
| Property | Zariski | Etale | fppf | fpqc |
|----------|---------|-------|------|------|
| Cover morphisms | Open immersions | Etale, surjective | Flat, fin. pres., surj. | Flat, surjective, q.c. |
| Detects | Zariski-local data | Galois/separable data | All flat data | All faithfully flat data |
| $H^1(\cdot, \mathbb{G}_m)$ | $\operatorname{Pic}$ | $\operatorname{Pic}$ | $\operatorname{Pic}$ | $\operatorname{Pic}$ |
| $H^1(\cdot, GL_n)$ | Zar. v.b. | Etale v.b. | All v.b. | All v.b. |
| Good for smooth $G$ | Sometimes | Yes | Yes | Yes |
| Good for non-smooth $G$ | No | No | Yes | Yes |
| Descent for qcoh sheaves | Yes | Yes | Yes | Yes |

The etale topology is the workhorse for arithmetic geometry (Galois representations, $\ell$-adic cohomology, Weil conjectures). The fppf topology is needed for moduli of non-smooth objects and torsors under non-smooth group schemes. The fpqc topology is the natural setting for descent theory but is rarely used for cohomology computations.
</Remark>
