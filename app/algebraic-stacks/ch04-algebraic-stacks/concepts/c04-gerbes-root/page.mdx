export const metadata = {
  title: 'Gerbes and Root Stacks — Algebraic Stacks — Math Notes',
}

import { Breadcrumbs } from '@/components/layout/Breadcrumbs'
import { Tag } from '@/components/ui/Tag'
import { StatusBadge } from '@/components/ui/StatusBadge'

<Breadcrumbs items={[
  { label: "대수 스택", href: "/algebraic-stacks" },
  { label: "4. 대수 스택", href: "/algebraic-stacks/ch04-algebraic-stacks" },
  { label: "Concept — Gerbes and Root Stacks" },
]} />

<div className="mb-6">
  <div className="flex items-center gap-3 mb-3">
    <Tag type="concept" />
    <StatusBadge status="complete" />
  </div>
</div>

# Gerbes and Root Stacks

Gerbes are stacks in which every two objects are locally isomorphic -- they are "twisted forms of the trivial torsor." Root stacks provide a systematic way to introduce stacky structure along a divisor by taking $r$-th roots of a line bundle and section. Together, these constructions produce important examples of DM stacks and arise naturally in problems involving Brauer groups, twisted sheaves, and orbifold birational geometry.

---

## Gerbes

<Definition title="Gerbe" number="4.15">
Let $\mathcal{X}$ be a stack over a site $(\mathcal{C}, \tau)$ with a morphism $\pi : \mathcal{X} \to \mathcal{Y}$ to another stack (or a scheme/algebraic space). We say $\mathcal{X}$ is a **gerbe over $\mathcal{Y}$** if:

1. **(Local non-emptiness)** For every object $U$ of $\mathcal{C}$ and morphism $U \to \mathcal{Y}$, there exists a $\tau$-cover $\{U_i \to U\}$ such that $\mathcal{X}(U_i) \to \mathcal{Y}(U_i)$ has an object in its fiber for each $i$.

2. **(Local connectedness)** For every object $U$ and any two objects $\xi, \eta \in \mathcal{X}(U)$ lying over the same object of $\mathcal{Y}(U)$, there exists a $\tau$-cover $\{U_i \to U\}$ such that $\xi|_{U_i} \cong \eta|_{U_i}$ for each $i$.

In other words, a gerbe is a stack where locally (in the $\tau$-topology) there is a unique object up to isomorphism.
</Definition>

<Remark title="Gerbes as principal bundles for groups">
A gerbe over $\mathcal{Y}$ is like a "principal bundle for a group stack." The local automorphisms of any object of the gerbe form a sheaf of groups called the **band** (or **lien**). The gerbe is classified by a cohomology class in $H^2(\mathcal{Y}, \text{band})$.
</Remark>

---

## The band of a gerbe

<Definition title="Band (Lien)" number="4.16">
Let $\mathcal{X} \to \mathcal{Y}$ be a gerbe. For any local section $\xi$ of $\mathcal{X}$ over an open $U$, the automorphism sheaf $\mathcal{A}ut(\xi)$ is a sheaf of groups on $U$. If the gerbe is **banded** by a sheaf of abelian groups $\mathcal{G}$ on $\mathcal{Y}$, then there is a fixed isomorphism $\mathcal{A}ut(\xi) \cong \mathcal{G}|_U$ for each local section $\xi$, compatible with the gerbe structure.

A gerbe banded by $\mathcal{G}$ is called a **$\mathcal{G}$-gerbe**. The isomorphism classes of $\mathcal{G}$-gerbes over $\mathcal{Y}$ are classified by
$$H^2(\mathcal{Y}, \mathcal{G}).$$
</Definition>

<Example id="trivial-gerbe" title="The trivial gerbe">
The **trivial $\mathcal{G}$-gerbe** over $\mathcal{Y}$ is the classifying stack $\mathrm{B}\mathcal{G} \times \mathcal{Y}$, i.e., the stack of $\mathcal{G}$-torsors over $\mathcal{Y}$. Its class in $H^2(\mathcal{Y}, \mathcal{G})$ is zero. Every $\mathcal{G}$-gerbe that has a global section (a global object) is isomorphic to the trivial gerbe.
</Example>

<Example id="mu-n-gerbe-point" title="mu_n-gerbe over a point">
A $\mu_n$-gerbe over $\operatorname{Spec} k$ is classified by $H^2(\operatorname{Spec} k, \mu_n)$. By the Kummer sequence $1 \to \mu_n \to \mathbb{G}_m \xrightarrow{(\cdot)^n} \mathbb{G}_m \to 1$, we get
$$H^2_{\mathrm{et}}(\operatorname{Spec} k, \mu_n) \cong \operatorname{Br}(k)[n]$$
(the $n$-torsion in the Brauer group). So $\mu_n$-gerbes over a point are classified by $n$-torsion Brauer classes.

Over $k = \mathbb{R}$: $\operatorname{Br}(\mathbb{R}) = \mathbb{Z}/2\mathbb{Z}$ (generated by the quaternion algebra $\mathbb{H}$). So there is a nontrivial $\mu_2$-gerbe over $\operatorname{Spec} \mathbb{R}$, corresponding to $\mathbb{H}$.
</Example>

<Example id="brauer-class-gerbe" title="Brauer group and G_m-gerbes">
$\mathbb{G}_m$-gerbes over a scheme $X$ are classified by $H^2_{\mathrm{et}}(X, \mathbb{G}_m)$. The **cohomological Brauer group** is $\operatorname{Br}'(X) = H^2_{\mathrm{et}}(X, \mathbb{G}_m)_{\mathrm{tors}}$. By a theorem of Gabber (and de Jong), this equals the **Azumaya Brauer group** $\operatorname{Br}(X)$ when $X$ has an ample line bundle.

A Brauer class $\alpha \in \operatorname{Br}(X)$ defines a $\mathbb{G}_m$-gerbe $\mathcal{X}_\alpha \to X$. **$\alpha$-twisted sheaves** on $X$ are quasi-coherent sheaves on the gerbe $\mathcal{X}_\alpha$. This is the foundation of Caldararu's theory of twisted sheaves.
</Example>

<Example id="mu-n-gerbe-curve" title="mu_n-gerbes over a curve">
Let $C$ be a smooth projective curve over an algebraically closed field $k$. Then $H^2_{\mathrm{et}}(C, \mu_n) \cong \mathbb{Z}/n\mathbb{Z}$ (by the cycle class map to $H^2(C, \mathbb{Z}/n) \cong \mathbb{Z}/n$). So there are $n$ isomorphism classes of $\mu_n$-gerbes over $C$.

The nontrivial $\mu_n$-gerbe can be constructed as follows: take a degree-1 line bundle $\mathcal{L}$ on $C$, and consider the $\mu_n$-gerbe of $n$-th roots of $\mathcal{L}$ (locally, an $n$-th root exists, but globally there is an obstruction in $\operatorname{Pic}(C)/n\operatorname{Pic}(C) \cong (\mathbb{Z}/n)^{2g} \times \mathbb{Z}/n$).
</Example>

<Example id="residual-gerbe" title="Residual gerbe">
Let $\mathcal{X}$ be an algebraic stack and $x$ a point of $\mathcal{X}$ (i.e., a morphism $\operatorname{Spec} k \to \mathcal{X}$ from a field). The **residual gerbe** at $x$ is the reduced closed substack $\mathcal{G}_x \hookrightarrow \mathcal{X}$ supported at $x$. It is a gerbe over $\operatorname{Spec} k(x)$ banded by $\operatorname{Aut}(x)^{\circ}$ (the identity component of the automorphism group).

For a DM stack, the residual gerbe at a closed point $x$ with automorphism group $G$ is the classifying stack $\mathrm{B}G$, since $G$ is finite.
</Example>

<Example id="severi-brauer-gerbe" title="Severi--Brauer varieties and gerbes">
A **Severi--Brauer variety** $V$ over a field $k$ is a variety that becomes isomorphic to $\mathbb{P}^n$ after base change to $\bar{k}$. These are classified by $H^1(k, \mathrm{PGL}_{n+1})$. The associated $\mathbb{G}_m$-gerbe is obtained from the exact sequence
$$1 \to \mathbb{G}_m \to \mathrm{GL}_{n+1} \to \mathrm{PGL}_{n+1} \to 1$$
via the connecting map $\delta : H^1(k, \mathrm{PGL}_{n+1}) \to H^2(k, \mathbb{G}_m) = \operatorname{Br}(k)$.

For example, the conic $x^2 + y^2 + z^2 = 0$ over $\mathbb{R}$ is a nontrivial Severi--Brauer variety, giving the nontrivial class in $\operatorname{Br}(\mathbb{R}) = \mathbb{Z}/2$.
</Example>

---

## Root stacks

<Definition title="Root Stack" number="4.17">
Let $X$ be a scheme (or algebraic space), $\mathcal{L}$ a line bundle on $X$, $s \in \Gamma(X, \mathcal{L})$ a section, and $r \geq 1$ an integer. The **$r$-th root stack** $\sqrt[r]{(\mathcal{L}, s)/X}$ (also denoted $X_{(\mathcal{L}, s, r)}$ or $\sqrt[r]{D/X}$ when $D = V(s)$) is the stack over $X$ whose objects over a scheme $T \to X$ are triples $(\mathcal{M}, t, \phi)$ where:

- $\mathcal{M}$ is a line bundle on $T$,
- $t \in \Gamma(T, \mathcal{M})$ is a section,
- $\phi : \mathcal{M}^{\otimes r} \xrightarrow{\sim} \mathcal{L}|_T$ is an isomorphism with $\phi(t^r) = s|_T$.

Morphisms are isomorphisms of $(\mathcal{M}, t)$ compatible with $\phi$.
</Definition>

<Remark title="Root stacks as quotient stacks">
Locally on $X$, if $\mathcal{L} \cong \mathcal{O}_X$ and $s$ corresponds to a function $f$, then
$$\sqrt[r]{(\mathcal{O}_X, f)/X} \cong [\operatorname{Spec} \mathcal{O}_X[u]/(u^r - f) / \mu_r]$$
where $\mu_r$ acts by $\zeta \cdot u = \zeta u$. This gives a local quotient stack description.
</Remark>

<Example id="root-stack-basic" title="Root stack of P^1 at a point">
Let $X = \mathbb{P}^1$, $D = \{p\}$ a point, $\mathcal{L} = \mathcal{O}(p)$, and $s$ the canonical section vanishing at $p$. The $r$-th root stack $\sqrt[r]{D/\mathbb{P}^1}$ is a smooth DM stack that:

- Is isomorphic to $\mathbb{P}^1$ over $\mathbb{P}^1 \setminus \{p\}$.
- Has a $\mu_r$-stabilizer at $p$.

Locally near $p$, with coordinate $z$ vanishing at $p$, the root stack is $[\operatorname{Spec} k[u]/(u^r - z) / \mu_r] = [\mathbb{A}^1 / \mu_r]$, where $\mu_r$ acts by $\zeta \cdot u = \zeta u$. The map $\sqrt[r]{D/\mathbb{P}^1} \to \mathbb{P}^1$ is the coarse moduli map.
</Example>

<Example id="orbifold-riemann-surface" title="Orbifold Riemann surfaces">
An **orbifold Riemann surface** (or **orbicurve**) with underlying curve $C$ and orbifold points $p_1, \ldots, p_k$ of orders $r_1, \ldots, r_k$ is the iterated root stack
$$\mathcal{C} = \sqrt[r_1]{p_1} \times_C \sqrt[r_2]{p_2} \times_C \cdots \times_C \sqrt[r_k]{p_k}.$$
This is a smooth DM stack with $\mu_{r_i}$-stabilizer at each $p_i$.

The **orbifold Euler characteristic** is
$$\chi^{\mathrm{orb}}(\mathcal{C}) = 2 - 2g - \sum_{i=1}^k \left(1 - \frac{1}{r_i}\right)$$
where $g$ is the genus of $C$. For example, $\mathbb{P}^1$ with orbifold points of orders $(2, 3, 7)$ has $\chi^{\mathrm{orb}} = 2 - 1/2 - 2/3 - 6/7 = -1/42 < 0$, so the corresponding orbifold is hyperbolic.
</Example>

<Example id="root-stack-snc" title="Root stack along a simple normal crossing divisor">
Let $D = D_1 + \cdots + D_k$ be a simple normal crossing divisor on a smooth variety $X$, with line bundles $\mathcal{L}_i = \mathcal{O}_X(D_i)$ and canonical sections $s_i$. The **root stack**
$$\sqrt[r]{D/X} = \sqrt[r]{(\mathcal{L}_1, s_1)} \times_X \cdots \times_X \sqrt[r]{(\mathcal{L}_k, s_k)}$$
is a smooth DM stack. Along $D_i \setminus \bigcup_{j \neq i} D_j$, the stabilizer is $\mu_r$; along $D_i \cap D_j$ (for $i \neq j$), the stabilizer is $\mu_r \times \mu_r$; and so on.

This construction is central to **logarithmic geometry** and **orbifold birational geometry**: root stacks provide a stacky way to encode the log structure of a pair $(X, D)$.
</Example>

<Example id="root-stack-surface" title="Root stack and resolution">
Let $X = \mathbb{A}^2$ with $D = V(xy)$ (the coordinate axes). The root stack $\mathcal{X} = \sqrt[2]{D/\mathbb{A}^2}$ is locally $[\operatorname{Spec} k[u,v]/(u^2 - x, v^2 - y) / (\mu_2 \times \mu_2)]$. The coarse space is $\mathbb{A}^2$, but the stack has $\mu_2$-stabilizers along each axis and $\mu_2 \times \mu_2$ at the origin.

The iterated root stack $\sqrt[r]{D/X}$ for large $r$ provides a "stacky resolution" of the pair $(X, D)$ that is often better behaved for cohomological computations than a classical log resolution.
</Example>

<Example id="parabolic-bundles" title="Parabolic bundles and root stacks">
There is a remarkable equivalence (due to Borne, Biswas, and others) between:
- **Parabolic bundles** on $(X, D)$ with rational weights of denominator dividing $r$, and
- **Vector bundles** on the root stack $\sqrt[r]{D/X}$.

More precisely, $\operatorname{Vect}(\sqrt[r]{D/X}) \cong \operatorname{ParVect}_r(X, D)$. This provides a geometric interpretation of Mehta--Seshadri's parabolic structures: a parabolic bundle is simply a vector bundle on the root stack.

For a curve $C$ with a single marked point $p$ and weights $0 \leq \alpha_1 < \cdots < \alpha_n < 1$ with denominators dividing $r$, a parabolic bundle $(E, E_{p,\bullet})$ on $(C, p)$ corresponds to a vector bundle $\mathcal{E}$ on $\sqrt[r]{p/C}$.
</Example>

<Example id="dn-as-root" title="Canonical stack of a quotient singularity">
The $A_{n-1}$ singularity $\operatorname{Spec} k[u,v]/(uv)$ can be given a "canonical stack structure" as a root stack. Starting with $\mathbb{A}^1$ and the point $0$ (with its reduced structure), the $n$-th root stack $\sqrt[n]{0/\mathbb{A}^1}$ is the DM stack $[\mathbb{A}^1/\mu_n]$, which is the canonical stacky resolution.

More generally, for a normal surface singularity $p \in X$ that is a cyclic quotient of type $\frac{1}{n}(1, a)$, the canonical stack $\mathcal{X} \to X$ is a smooth DM stack with a single $\mu_n$-stacky point at $p$. This canonical stack is a root stack for the appropriate divisor.
</Example>

---

## Properties of root stacks

<Remark title="Key properties">
Let $\mathcal{X}_r = \sqrt[r]{(\mathcal{L}, s)/X}$ be an $r$-th root stack. Then:

1. **Coarse moduli space**: The coarse moduli space of $\mathcal{X}_r$ is $X$ itself. The map $\pi : \mathcal{X}_r \to X$ is the coarse moduli map.

2. **Smoothness**: If $X$ is smooth and $D = V(s)$ is a smooth divisor (or simple normal crossing), then $\mathcal{X}_r$ is a smooth DM stack.

3. **Picard group**: $\operatorname{Pic}(\mathcal{X}_r) \cong \operatorname{Pic}(X) \oplus \mathbb{Z}/r\mathbb{Z}$, where the extra $\mathbb{Z}/r$ is generated by $\mathcal{M}$ (the tautological $r$-th root line bundle). Indeed $\mathcal{M}^{\otimes r} \cong \pi^*\mathcal{L}$.

4. **K-theory**: There is a decomposition $K(\mathcal{X}_r) \cong K(X) \oplus K(D)^{r-1}$ (approximately), reflecting the extra structure along $D$.

5. **Functoriality**: Root stacks are functorial in $(X, \mathcal{L}, s)$. If $f : Y \to X$ with $f^*s = s'$ and $f^*\mathcal{L} = \mathcal{L}'$, then $\sqrt[r]{(\mathcal{L}', s')/Y} \cong \mathcal{X}_r \times_X Y$.
</Remark>

---

## The Brauer group and gerbes

<Example id="brauer-group-gerbe" title="Brauer group of a surface">
Let $X$ be a smooth projective surface over an algebraically closed field. The Brauer group $\operatorname{Br}(X) = H^2_{\mathrm{et}}(X, \mathbb{G}_m)_{\mathrm{tors}}$ classifies $\mathbb{G}_m$-gerbes on $X$. For a K3 surface, $\operatorname{Br}(X) \cong (\mathbb{Q}/\mathbb{Z})^{22-\rho}$ where $\rho$ is the Picard rank. Each element $\alpha \in \operatorname{Br}(X)$ defines a gerbe $\mathcal{X}_\alpha \to X$, and the derived category $D^b(\mathcal{X}_\alpha)$ of the gerbe (i.e., $\alpha$-twisted sheaves on $X$) is a central object of study.

Mukai showed that certain Fourier--Mukai equivalences $D^b(X) \cong D^b(X')$ between K3 surfaces can be generalized to $D^b(\mathcal{X}_\alpha) \cong D^b(\mathcal{X}'_{\alpha'})$ for appropriate Brauer twists.
</Example>

<Example id="gerbe-obstruction" title="Gerbe as obstruction to existence">
Consider the moduli problem of rank-$n$ vector bundles on $X$ with fixed determinant $\mathcal{L}$. The moduli stack $\mathcal{M}^{\mathcal{L}}_n$ has automorphism groups $\mu_n$ (the $n$-th roots of unity acting by scalar multiplication preserving the determinant). The natural map $\mathcal{M}^{\mathcal{L}}_n \to M^{\mathcal{L}}_n$ (to the coarse moduli space, when it exists) makes $\mathcal{M}^{\mathcal{L}}_n$ into a $\mu_n$-gerbe over $M^{\mathcal{L}}_n$.

The gerbe is trivial if and only if there exists a **universal bundle** on $M^{\mathcal{L}}_n \times X$. The obstruction to triviality lies in $H^2(M^{\mathcal{L}}_n, \mu_n) \cong \operatorname{Br}(M^{\mathcal{L}}_n)[n]$. For the moduli of stable bundles on a curve $C$ with coprime rank and degree, this Brauer class is nontrivial for $n \geq 2$.
</Example>

---

## Summary

Gerbes are stacks that are "locally trivial" -- they have a unique object up to local isomorphism, banded by a sheaf of groups. They are classified by degree-2 cohomology and intimately connected to the Brauer group. Root stacks provide an explicit construction of DM stacks by introducing stacky structure along divisors, and they connect to parabolic bundles, log geometry, and orbifold theory. Together, gerbes and root stacks form a rich toolkit for constructing and understanding algebraic stacks.
